{% extends 'base.html' %}

{% block title %}Contact Us - {{ site_name }}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section" style="padding: 120px 0 80px;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="hero-title" style="font-size: 3rem;">{{ title }}</h1>
                <p class="hero-subtitle">Get in touch with our healthcare professionals. We're here to help you with all your medical needs and questions.</p>
            </div>
        </div>
    </div>
</section>

<!-- Contact Information -->
<section class="section">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="contact-card text-center">
                    <div class="contact-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Phone Number</h4>
                    <p class="mb-3">Call us for appointments, consultations, or emergency medical services.</p>
                    <a href="tel:{{ contact_phone }}" class="btn-custom">
                        <i class="fas fa-phone me-2"></i>{{ contact_phone }}
                    </a>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="contact-card text-center">
                    <div class="contact-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h4 class="fw-bold mb-3">WhatsApp</h4>
                    <p class="mb-3">Quick messages and appointment requests through WhatsApp.</p>
                    <a href="https://{{ whatsapp_link }}" target="_blank" class="btn-custom" style="background: #25d366; color: white;">
                        <i class="fab fa-whatsapp me-2"></i>WhatsApp Us
                    </a>
                </div>
            </div>
            
            <div class="col-lg-4">
                <div class="contact-card text-center">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Email</h4>
                    <p class="mb-3">Send us your questions, feedback, or appointment requests via email.</p>
                    <a href="mailto:{{ contact_email }}" class="btn-custom" style="background: #ea4335; color: white;">
                        <i class="fas fa-envelope me-2"></i>Send Email
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form and Map -->
<section class="section" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
    <div class="container">
        <div class="row g-5">
            <div class="col-lg-6">
                <div class="contact-form-container">
                    <h2 class="section-title text-start mb-4">Send Us a Message</h2>
                    <p class="mb-4">Fill out the form below and we'll get back to you as soon as possible. For urgent matters, please call us directly.</p>
                    
                    <form class="contact-form" id="contactForm">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="firstName" class="form-label">First Name *</label>
                                <input type="text" class="form-control" id="firstName" name="firstName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="lastName" class="form-label">Last Name *</label>
                                <input type="text" class="form-control" id="lastName" name="lastName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="email" class="form-label">Email Address *</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>
                            <div class="col-md-6">
                                <label for="phone" class="form-label">Phone Number</label>
                                <input type="tel" class="form-control" id="phone" name="phone">
                            </div>
                            <div class="col-12">
                                <label for="service" class="form-label">Service of Interest</label>
                                <select class="form-select" id="service" name="service">
                                    <option value="">Select a service...</option>
                                    <option value="general">General Consultation</option>
                                    <option value="preventive">Preventive Care</option>
                                    <option value="pediatric">Pediatric Care</option>
                                    <option value="emergency">Emergency Care</option>
                                    <option value="chronic">Chronic Disease Management</option>
                                    <option value="laboratory">Laboratory Services</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="message" class="form-label">Message *</label>
                                <textarea class="form-control" id="message" name="message" rows="5" placeholder="Please describe your medical concern or appointment request..." required></textarea>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="privacy" name="privacy" required>
                                    <label class="form-check-label" for="privacy">
                                        I agree to the <a href="#" class="text-primary">privacy policy</a> and consent to the processing of my personal data.
                                    </label>
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn-custom w-100">
                                    <i class="fas fa-paper-plane me-2"></i>Send Message
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="clinic-info">
                    <h2 class="section-title text-start mb-4">Visit Our Clinic</h2>
                    <p class="mb-4">Located in the heart of Nairobi, our modern healthcare facility is easily accessible and equipped with state-of-the-art medical equipment.</p>
                    
                    <div class="clinic-details">
                        <div class="detail-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="detail-icon">
                                    <i class="fas fa-map-marker-alt text-primary"></i>
                                </div>
                                <div class="ms-3">
                                    <h5 class="fw-bold">Clinic Address</h5>
                                    <p>{{ contact_info.address }}</p>
                                    <small class="text-muted">Located in a modern medical complex with parking facilities available</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="detail-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="detail-icon">
                                    <i class="fas fa-clock text-primary"></i>
                                </div>
                                <div class="ms-3">
                                    <h5 class="fw-bold">Operating Hours</h5>
                                    <div class="hours">
                                        <p><strong>Monday - Friday:</strong> 8:00 AM - 6:00 PM</p>
                                        <p><strong>Saturday:</strong> 9:00 AM - 4:00 PM</p>
                                        <p><strong>Sunday:</strong> Emergency Only</p>
                                        <p class="text-danger"><strong>Emergency:</strong> 24/7 Available</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="detail-item mb-4">
                            <div class="d-flex align-items-start">
                                <div class="detail-icon">
                                    <i class="fas fa-car text-primary"></i>
                                </div>
                                <div class="ms-3">
                                    <h5 class="fw-bold">Parking & Accessibility</h5>
                                    <p>Free parking available on-site</p>
                                    <p>Wheelchair accessible entrance and facilities</p>
                                    <p>Public transport accessible</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Contact Buttons -->
                    <div class="quick-contact mt-4">
                        <h5 class="fw-bold mb-3">Quick Contact</h5>
                        <div class="d-grid gap-2">
                            <a href="tel:{{ contact_phone }}" class="btn btn-primary">
                                <i class="fas fa-phone me-2"></i>Call Now: {{ contact_phone }}
                            </a>
                            <a href="https://{{ whatsapp_link }}" target="_blank" class="btn btn-success">
                                <i class="fab fa-whatsapp me-2"></i>WhatsApp: {{ contact_phone }}
                            </a>
                            <a href="mailto:{{ contact_email }}" class="btn btn-danger">
                                <i class="fas fa-envelope me-2"></i>Email: {{ contact_email }}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Emergency Contact -->
<section class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="emergency-notice text-center">
                    <div class="emergency-icon mb-4">
                        <i class="fas fa-exclamation-triangle" style="font-size: 4rem; color: #dc3545;"></i>
                    </div>
                    <h2 class="fw-bold text-danger mb-3">Medical Emergency?</h2>
                    <p class="lead mb-4">If you are experiencing a medical emergency, please call {{ contact_phone }} immediately or visit our emergency department.</p>
                    <div class="emergency-buttons">
                        <a href="tel:{{ contact_phone }}" class="btn btn-danger btn-lg me-3">
                            <i class="fas fa-phone me-2"></i>Emergency Call
                        </a>
                        <a href="https://{{ whatsapp_link }}" target="_blank" class="btn btn-success btn-lg">
                            <i class="fab fa-whatsapp me-2"></i>Emergency WhatsApp
                        </a>
                    </div>
                    <div class="mt-4">
                        <p class="text-muted">
                            <i class="fas fa-info-circle me-2"></i>
                            For life-threatening emergencies, call 999 or visit the nearest hospital emergency department.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="section" style="background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); color: white;">
    <div class="container">
        <h2 class="section-title" style="color: white;">Frequently Asked Questions</h2>
        <p class="section-subtitle" style="color: rgba(255,255,255,0.9);">Common questions about our services and procedures</p>
        
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="faq-item">
                    <h5 class="fw-bold mb-2">How do I book an appointment?</h5>
                    <p style="opacity: 0.9;">You can book an appointment by calling us at {{ contact_phone }}, WhatsApp messaging us, or using the appointment booking form on our website.</p>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="faq-item">
                    <h5 class="fw-bold mb-2">Do you accept insurance?</h5>
                    <p style="opacity: 0.9;">Yes, we accept most major insurance plans. Please contact us to verify if your specific insurance is accepted.</p>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="faq-item">
                    <h5 class="fw-bold mb-2">What should I bring to my appointment?</h5>
                    <p style="opacity: 0.9;">Please bring your ID, insurance card, medical history, list of current medications, and any previous medical records.</p>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="faq-item">
                    <h5 class="fw-bold mb-2">Do you offer telemedicine consultations?</h5>
                    <p style="opacity: 0.9;">Yes, we offer telemedicine consultations for follow-up visits and non-emergency medical concerns.</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form data
    const formData = new FormData(this);
    const data = Object.fromEntries(formData);
    
    // Create WhatsApp message
    const message = `Hello! I'd like to make an inquiry:

*Name:* ${data.firstName} ${data.lastName}
*Email:* ${data.email}
*Phone:* ${data.phone || 'Not provided'}
*Service:* ${data.service || 'Not specified'}

*Message:*
${data.message}

Please respond at your earliest convenience. Thank you!`;
    
    const encodedMessage = encodeURIComponent(message);
    const whatsappURL = `https://{{ whatsapp_link }}?text=${encodedMessage}`;
    
    // Open WhatsApp
    window.open(whatsappURL, '_blank');
    
    // Show success message
    alert('Thank you for your message! We will redirect you to WhatsApp to send your inquiry directly.');
    
    // Reset form
    this.reset();
});

// Add smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>
{% endblock %}

{% block extra_css %}
<style>
.contact-card {
    background: white;
    padding: 2rem;
    border-radius: 20px;
    box-shadow: 0 5px 30px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    height: 100%;
}

.contact-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.15);
}

.contact-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    font-size: 2rem;
}

.contact-form-container {
    background: white;
    padding: 3rem;
    border-radius: 20px;
    box-shadow: 0 5px 30px rgba(0,0,0,0.1);
}

.form-control {
    border-radius: 10px;
    border: 2px solid #e9ecef;
    padding: 0.8rem 1rem;
    transition: all 0.3s ease;
}

.form-control:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 0.2rem rgba(44, 95, 45, 0.25);
}

.form-select {
    border-radius: 10px;
    border: 2px solid #e9ecef;
    padding: 0.8rem 1rem;
}

.clinic-info {
    background: white;
    padding: 3rem;
    border-radius: 20px;
    box-shadow: 0 5px 30px rgba(0,0,0,0.1);
    height: fit-content;
}

.detail-icon {
    width: 50px;
    height: 50px;
    background: rgba(44, 95, 45, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.hours {
    line-height: 1.6;
}

.quick-contact .btn {
    border-radius: 10px;
    padding: 1rem;
    font-weight: 600;
}

.emergency-notice {
    background: white;
    padding: 4rem 2rem;
    border-radius: 20px;
    box-shadow: 0 5px 30px rgba(0,0,0,0.1);
}

.faq-item {
    background: rgba(255,255,255,0.1);
    padding: 1.5rem;
    border-radius: 15px;
    backdrop-filter: blur(10px);
}

@media (max-width: 768px) {
    .hero-title {
        font-size: 2.5rem !important;
    }
    
    .contact-form-container,
    .clinic-info {
        padding: 2rem 1.5rem;
    }
    
    .emergency-buttons {
        text-align: center;
    }
    
    .emergency-buttons .btn {
        margin: 0.5rem 0;
        display: block;
        width: 100%;
    }
}
</style>
{% endblock %}